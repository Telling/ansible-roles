---
- name: configure etherpad servers
  hosts: etherpad_servers
  become: yes
  roles:
    - freebsd
    - etherpad_server
  tags:
    - etherpad_servers

- name: configure all jail hosts
  hosts: jail_hosts
  become: yes
  roles:
    - freebsd
    - jail_host
  tags:
    - jail_hosts

- name: configure all censurfridns anycast jail hosts
  hosts: anycast_jail_hosts
  become: yes
  roles:
    - freebsd
    - anycast_jail_host
  tags:
    - anycast_jail_hosts

- name: configure all murmur servers
  hosts: murmur_servers
  become: yes
  roles:
    - freebsd
    - murmur_server
  tags:
    - murmur_servers

- name: configure all http servers
  hosts: nginx_http_servers
  become: yes
  roles:
    - freebsd
    - nginx_http_server
  tags:
    - nginx_http_servers

- name: configure all https servers
  hosts: nginx_https_servers
  become: yes
  roles:
    - freebsd
    - nginx_https_server
  tags:
    - nginx_https_servers

- name: configure dovecot servers
  hosts: dovecot_servers
  roles:
    - freebsd
    - dovecot_server
  tags:
    - dovecot_servers

- name: configure erlang webservers
  hosts: erlang_web_servers
  roles:
    - freebsd
    - erlang_web_server
  tags:
    - erlang_web_servers

- name: configure wiki servers
  hosts: mediawiki_servers
  roles:
    - freebsd
    - mediawiki_server
  tags:
    - mediawiki_servers

- name: configure nginx ssh servers
  hosts: nginx_ssh_servers
  roles:
    - freebsd
    - nginx_ssh_server
  handlers:
    - include: handlers/handlers.yml
  tags:
    - nginx_ssh_servers

- name: configure postfix servers
  hosts: postfix_servers
  roles:
    - freebsd
    - postfix_server
  tags:
    - postfix_servers

- name: configure tor servers
  hosts: tor_servers
  roles:
    - freebsd
    - tor_server
  tags:
    - tor_servers

